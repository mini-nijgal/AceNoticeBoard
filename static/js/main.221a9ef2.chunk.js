(this.webpackJsonpTYEA=this.webpackJsonpTYEA||[]).push([[0],{22:function(e,t,n){e.exports=n(48)},27:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(20),r=n.n(o),l=n(3),i=n(1),s=(n(27),n(6)),u=n.n(s),m=n(10),d=n(9),f=n.n(d),p=function(){return{posts:[{title:"1 Welcome to TYEA!",url:"https://qreoct.github.io/tyea",date:"2020-06-26",tags:["tutorial"],comment:["These are a set of demo posts to show how TYEA works"],status:"todo",type:"quote",id:"1"},{title:"2 TYEA is an application to store links as virtual sticky notes",url:"https://en.wikipedia.org/wiki/Special:Random",date:"2020-06-27",tags:["tutorial","demo"],comment:["You can click on the post title to visit the embedded link.","There are more details here in the post body. You can see the date each post was made...","The tags associated with it...","And (Multiple) comments!"],breadcrumb:"Breadcrumbs are context markers to help you remember how you stumbled upon this resource.",status:"done",type:"article",id:"2"},{title:"3 Try clicking on stuff!",url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",date:"2020-06-27",tags:["demo"],comment:["You can click on the tags on each post, or click the icon on the top-right, to filter posts by that criteria","You may also use the search bar on the left","You can even click on the navigation icons on the menu on the left!"],status:"done",type:"article",id:"3"},{title:"4 More stuff to click on",url:"https://qreoct.github.io/tyea",date:"2020-06-28",tags:["demo"],comment:["Clicking on the Tick or Cross icon on each post toggles the todo status"],status:"done",type:"article",id:"4"},{title:"5 Create new posts",url:"https://qreoct.github.io/tyea",date:"2020-06-29",tags:["demo"],comment:["Click on 'new' on the bottom left, or use keyboard shortcuts [n]ew/[c]reate/[+] to open up the new post dialog.","Fill in each field with the required data and hit post! It's that easy."],status:"done",type:"article",id:"5"},{title:"6 Check out the code on Github!",url:"https://github.com/qreoct/tyea",date:"2020-06-18",tags:["demo"],comment:["Hope you enjoyed this demo! Check out the source code on Github to learn how to deploy this for yourself!","P.S. This demo doesn't actually write anything to any API! Your posts will not be saved on refresh. Check out how to deploy your own instance on Github."],status:"done",type:"book",id:"6"}]}},h={getAll:function(){var e=p().posts;return f.a.get("/api/posts").then((function(e){return console.log("POSTSERVICES could reach backend"),e.data})).catch((function(t){return console.log("POSTSERVICES no backend. Default posts were returned"),e}))},create:function(){var e=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/api/posts",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(m.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("".concat("/api/posts","/").concat(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},v=function(e){return(e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]},b=function(e){var t=v(e),n=t.split("."),a=n.length;return a>2&&(t=n[a-2]+"."+n[a-1],2===n[a-2].length&&2===n[a-1].length&&(t=n[a-3]+"."+t)),t},y=function(e,t){for(var n=t,a=[],c=0;c<n;){for(var o=0;o<e.length;o+=n){var r=e[o+c];void 0!==r&&a.push(r)}c++}return a},E=function(e){return e.replace(/(((https?:\/\/)|(www\.))[^\s]+)/g,(function(e,t,n){var a="www."===n?"http://"+e:e;return"."!==a.slice(-1)&&"!"!==a.slice(-1)&&"?"!==a.slice(-1)&&","!==a.slice(-1)||(a=a.slice(0,-1)),'<a href="'+a+'" target="_blank">'+e+"</a>"}))},g=function(e){var t,n,a,o=e.props,r=e.setFilter,l=e.posts,i=e.setPosts,s=o.title,u=o.url,m=o.date,d=o.tags,f=o.comment,p=o.status,v=o.type,y=o.breadcrumb,g=o.id,w=b(u),N=function(){h.update(g,o).then((function(e){i(l.map((function(t){return t.id!==g?t:e})))}))};switch(d.length>1?t=d.map((function(e){return c.a.createElement("a",{key:e,href:"#tag-".concat(e),className:"post-tag-indiv",onClick:function(){return r("tag-".concat(e))}},e)})).reduce((function(e,t){return[e,", ",t]})):1===d.length&&(t=c.a.createElement("a",{href:"#tag-".concat(d),className:"post-tag-indiv",onClick:function(){return r("tag-".concat(d))}},d)),n="done"===p?c.a.createElement("i",{title:"done",className:"typcn typcn-tick",onClick:function(){return N()}}," "):c.a.createElement("i",{title:"to do",className:"typcn typcn-times",onClick:function(){return N()}}," "),v){case"book":a=c.a.createElement("a",{href:"#type-book",onClick:function(){return r("type-book")}},c.a.createElement("i",{title:"book",className:"typcn typcn-book"}," "));break;case"video":a=c.a.createElement("a",{href:"#type-video",onClick:function(){return r("type-video")}},c.a.createElement("i",{title:"video",className:"typcn typcn-video"}," "));break;case"article":a=c.a.createElement("a",{href:"#type-article",onClick:function(){return r("type-article")}},c.a.createElement("i",{title:"article",className:"typcn typcn-news"}," "));break;case"podcast":a=c.a.createElement("a",{href:"#type-podcast",onClick:function(){return r("type-podcast")}},c.a.createElement("i",{title:"podcast",className:"typcn typcn-microphone"}," "));break;case"quote":a=c.a.createElement("a",{href:"#type-quote",onClick:function(){return r("type-quote")}},c.a.createElement("i",{title:"quote",className:"typcn typcn-message"}," "));break;default:a=c.a.createElement("i",{title:"unknown",className:"typcn typcn-warning"}," ")}return c.a.createElement("div",null,c.a.createElement("div",{className:"post-containerupper"},c.a.createElement("div",{className:"post-linkarea"},c.a.createElement("a",{href:u},c.a.createElement("div",{className:"post-posttitle"}," ",c.a.createElement("h3",null," ",s," ")," "),c.a.createElement("div",{className:"post-link"},c.a.createElement("strong",null," /: "),c.a.createElement("span",{className:"post-linktitle"},w)))),c.a.createElement("div",{className:"post-descarea"},c.a.createElement("div",{className:"post-descicon post-descstatus"}," ",n," "),c.a.createElement("div",{className:"post-descicon post-desctype"}," ",a," "))),c.a.createElement("div",{className:"post-containerlower"},c.a.createElement("div",{className:"post-row"},c.a.createElement("div",{className:"post-date"},c.a.createElement("i",{className:"typcn typcn-calendar-outline"}," "),m)),void 0!==d[0]?c.a.createElement("div",{className:"post-row"},c.a.createElement("div",{className:"post-tags"},c.a.createElement("i",{className:"typcn typcn-tag"}," "),t)):null,f?f.map((function(e){return c.a.createElement("div",{className:"post-row",key:e},c.a.createElement("div",{className:"post-comment"},c.a.createElement("i",{className:"typcn typcn-message"}," "),c.a.createElement("span",{dangerouslySetInnerHTML:{__html:E(e)}})))})):null,y?c.a.createElement("div",{className:"post-row"},c.a.createElement("div",{className:"post-breadcrumb"},c.a.createElement("i",{className:"typcn typcn-tree"}," "),y," ")):null))},w=function(e){e.filter;var t=e.setFilter,n=e.posts,a=n.length,o=n.filter((function(e){return"done"===e.status})).length,r=n.filter((function(e){return"todo"===e.status})).length,l=n.filter((function(e){return"book"===e.type})).length,i=n.filter((function(e){return"video"===e.type})).length,s=n.filter((function(e){return"article"===e.type})).length,u=n.filter((function(e){return"podcast"===e.type})).length,m=n.filter((function(e){return"quote"===e.type})).length;return c.a.createElement("div",{className:"nav-filtercontainer"},c.a.createElement("div",{className:"nav-filterALL"},c.a.createElement("div",{className:"nav-filterrow"},c.a.createElement("a",{href:"#/",onClick:function(){return t("")}},c.a.createElement("div",{className:"nav-filtercount"}," ",a," "),c.a.createElement("i",{title:"all",className:"nav-filtername typcn typcn-star"}," ")))),c.a.createElement("div",{className:"nav-filterSTATUS"},c.a.createElement("div",{className:"nav-filterrow"},c.a.createElement("a",{href:"#done-true",onClick:function(){return t("done-true")}},c.a.createElement("div",{className:"nav-filtercount"}," ",o," "),c.a.createElement("i",{title:"done",className:"nav-filtername typcn typcn-tick"}," "))),c.a.createElement("div",{className:"nav-filterrow"},c.a.createElement("a",{href:"#done-false",onClick:function(){return t("done-false")}},c.a.createElement("div",{className:"nav-filtercount"}," ",r," "),c.a.createElement("i",{title:"to do",className:"nav-filtername typcn typcn-times"}," ")))),c.a.createElement("div",{className:"nav-filterrow"},c.a.createElement("a",{href:"#type-book",onClick:function(e){return t("type-book")}},c.a.createElement("div",{className:"nav-filtercount"}," ",l," "),c.a.createElement("i",{title:"book",className:"nav-filtername typcn typcn-book"}," "))),c.a.createElement("div",{className:"nav-filterrow"},c.a.createElement("a",{href:"#type-video",onClick:function(e){return t("type-video")}},c.a.createElement("div",{className:"nav-filtercount"}," ",i," "),c.a.createElement("i",{title:"video",className:"nav-filtername typcn typcn-video"}," "))),c.a.createElement("div",{className:"nav-filterrow"},c.a.createElement("a",{href:"#type-article",onClick:function(e){return t("type-article")}},c.a.createElement("div",{className:"nav-filtercount"}," ",s," "),c.a.createElement("i",{title:"article",className:"nav-filtername typcn typcn-news"}," "))),c.a.createElement("div",{className:"nav-filterrow"},c.a.createElement("a",{href:"#type-podcast",onClick:function(e){return t("type-podcast")}},c.a.createElement("div",{className:"nav-filtercount"}," ",u," "),c.a.createElement("i",{title:"podcast",className:"nav-filtername typcn typcn-microphone"}," "))),c.a.createElement("div",{className:"nav-filterrow"},c.a.createElement("a",{href:"#type-quote",onClick:function(e){return t("type-quote")}},c.a.createElement("div",{className:"nav-filtercount"}," ",m," "),c.a.createElement("i",{title:"quote",className:"nav-filtername typcn typcn-message"}," "))))},N=function(e){var t=e.tags,n=e.setFilter;return c.a.createElement("div",{className:"nav-tagcontainer"},c.a.createElement("i",{title:"tag",className:"nav-tagicon typcn typcn-tag"}," "),t.slice(0,8).map((function(e){return c.a.createElement("div",{className:"nav-tagrow",key:e},c.a.createElement("div",{className:"nav-tagcount"},e[1]," "),c.a.createElement("a",{className:"nav-tagname",href:"#tag-".concat(e[0]),onClick:function(){return n("tag-".concat(e[0]))}},e[0]," "))})))},k=function(e){var t=e.setShowModalAbout,n=e.showModalAbout,a=e.setShowModalNew,o=e.showModalNew;return c.a.createElement("div",{className:"nav-foot"},c.a.createElement("div",{className:"nav-tagrow"},c.a.createElement("div",{className:"nav-footnew",onClick:function(){return a(!o)}},"[n]ew "),c.a.createElement("div",{className:"nav-footabout",onClick:function(){return t(!n)}},"[a]bout ")))},_=function(e){var t=e.setShowModalAbout,n=e.showModalAbout,o=e.setInput_Focused,r=e.posts;if(Object(a.useEffect)((function(){n&&document.getElementById("modal").focus()}),[n]),!n)return null;var l=n?"modal display-block":"modal display-none";return c.a.createElement("div",{id:"modal",className:l,onClick:function(){t(!1),o(!1)},onKeyDown:function(e){return function(e){["Escape","Esc","a","h","/","?"].includes(e.key)&&(t(!n),document.getElementById("tyea").focus(),e.preventDefault())}(e)},tabIndex:-1},c.a.createElement("div",{className:"modal-about",onClick:function(e){return e.stopPropagation()}},c.a.createElement("div",{className:"modal-close",onClick:function(){t(!1),o(!1)}},"X"),c.a.createElement("div",{className:"modal-content"},c.a.createElement("h3",null," Tyea "),c.a.createElement("em",null," ",c.a.createElement("p",null," [a]bout / [h]elp / ? ")," "),c.a.createElement("em",null," ",c.a.createElement("p",null," Virtual note board ")," "),c.a.createElement("p",null," Tyea is a virtual sticky note board. Use it to store links to content that you value. Tyea aims to be lightweight and a pleasure to use. "),c.a.createElement("p",null," Tyea is open sourced with the MIT license. \xa0",c.a.createElement("a",{href:"https://github.com/qreoct/tyea"},"View source code on GitHub ")),c.a.createElement("p",null," - "),c.a.createElement("a",{className:"modal-about-export",href:"data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify({posts:r}))),download:"tyea-exports.json"},"export posts (JSON) "),c.a.createElement("p",null," v.1.0.0 | 2021 "))))},O=n(8),C=n(4),j=function(e){var t=e.setInput_Focused,n=e.onChange,o=e.submitted,r=e.setSubmitted,s=Object(a.useState)([]),u=Object(i.a)(s,2),m=u[0],d=u[1],f=Object(a.useState)(""),p=Object(i.a)(f,2),h=p[0],v=p[1],b=function(e){var t=Object(l.a)(m);t.splice(e,1),d(t)},y=function(e,t){var n;if(n=t?h:e.target.value,(" "===e.key||"Tab"===e.key||t)&&n){if(e.preventDefault(),m.find((function(e){return e.toLowerCase()===n.toLowerCase()})))return;v(""),d([].concat(Object(l.a)(m),[n]))}else"Backspace"!==e.key||n?"Enter"!==e.key||n||(e.preventDefault(),document.getElementById("new-breadcrumb").focus()):b(m.length-1)};return Object(a.useEffect)((function(){n(m)}),[m]),Object(a.useEffect)((function(){o&&(d([]),r(!1))}),[o,r]),c.a.createElement("div",{className:"input-tag"},c.a.createElement("ul",{className:"input-tag__tags"},m.map((function(e,t){return c.a.createElement("li",{key:e},e,c.a.createElement("button",{type:"button",onClick:function(){b(t)}},"+"))})),c.a.createElement("li",{className:"input-tag__tags__input"},c.a.createElement("input",{type:"text",onKeyDown:y,onClick:t(!0),value:h,onChange:function(e){return v(e.target.value)}})),c.a.createElement("button",{type:"button",onClick:function(e){return y(e,!0)}}," add ")))},S=function(e){var t=e.setInput_Focused,n=e.onChange,o=e.submitted,r=e.setSubmitted,s=Object(a.useState)([]),u=Object(i.a)(s,2),m=u[0],d=u[1],f=Object(a.useState)(""),p=Object(i.a)(f,2),h=p[0],v=p[1],b=function(e){var t=Object(l.a)(m);t.splice(e,1),d(t)},y=function(e,t){var n;if(n=t?h:e.target.value,("Tab"===e.key||t)&&n){if(e.preventDefault(),m.find((function(e){return e.toLowerCase()===n.toLowerCase()})))return;v(""),d([].concat(Object(l.a)(m),[n]))}else"Backspace"!==e.key||n||b(m.length-1)};return Object(a.useEffect)((function(){n(m)}),[m]),Object(a.useEffect)((function(){o&&(d([]),r(!1))}),[o,r]),c.a.createElement("div",{className:"input-tag"},c.a.createElement("ul",{className:"input-tag__tags"},m.map((function(e,t){return c.a.createElement("li",{key:e},e,c.a.createElement("button",{type:"button",onClick:function(){b(t)}},"+"))})),c.a.createElement("li",{className:"input-tag__tags__input"},c.a.createElement("textarea",{type:"text",onKeyDown:y,onClick:t(!0),value:h,onChange:function(e){return v(e.target.value)}})),c.a.createElement("button",{type:"button",onClick:function(e){return y(e,!0)}}," add ")))},I=function(e){var t=e.setShowModalNew,n=e.showModalNew,o=e.setInput_Focused,r=e.input_focused,s=e.posts,u=e.setPosts;Object(a.useEffect)((function(){n&&document.getElementById("modal").focus()}),[n]);var m=Object(a.useState)(!1),d=Object(i.a)(m,2),f=d[0],p=d[1],v=Object(a.useState)({title:"",url:"",breadcrumb:"",type:"",comment:[],tags:[]}),b=Object(i.a)(v,2),y=b[0],E=b[1],g=function(e){var t=e.target.value;E(Object(C.a)(Object(C.a)({},y),{},Object(O.a)({},e.target.name,t)))};if(!n)return null;var w=n?"modal display-block":"modal display-none";return c.a.createElement("div",{id:"modal",className:w,onClick:function(){t(!1),o(!1)},onKeyDown:function(e){return function(e){r?["Escape","Esc"].includes(e.key)&&(t(!1),o(!1),document.getElementById("tyea").focus(),e.preventDefault()):["Escape","Esc","c","n","=","+"].includes(e.key)&&(t(!1),o(!1),document.getElementById("tyea").focus(),e.preventDefault())}(e)},tabIndex:-1},c.a.createElement("div",{className:"modal-new",onClick:function(e){return e.stopPropagation()}},c.a.createElement("div",{className:"modal-close",onClick:function(){t(!1),o(!1)}},"X"),c.a.createElement("div",{className:"modal-content modal-new-formcontainer"},c.a.createElement("h3",null," NEW "),c.a.createElement("em",null," ",c.a.createElement("p",null," [n]ew / [c]reate / + ")," "),c.a.createElement("form",{className:"modal-new-formarea",autoComplete:"off",onSubmit:function(e){return function(e){e.preventDefault(),console.log("MODALNEW submitted! data:",y),h.create(y).then((function(e){console.log("MODALNEW res is:",e),u([e].concat(Object(l.a)(s)))})),E({title:"",url:"",breadcrumb:"",type:"",comment:[],tags:[]}),p(!0),o(!1)}(e)}},c.a.createElement("div",{className:"modal-new-formrow"},c.a.createElement("label",{htmlFor:"title",className:"modal-new-formtitle"},"title "),c.a.createElement("input",{type:"text",name:"title",className:"modal-new-forminput",value:y.title,onChange:g,onClick:function(){return o(!0)},onBlur:function(){return o(!1)}})),c.a.createElement("div",{className:"modal-new-formrow"},c.a.createElement("label",{htmlFor:"title",className:"modal-new-formtitle"},"url "),c.a.createElement("input",{type:"text",name:"url",className:"modal-new-forminput",value:y.url,onChange:g,onClick:function(){return o(!0)},onBlur:function(){return o(!1)}})),c.a.createElement("div",{className:"modal-new-formrow"},c.a.createElement("label",{htmlFor:"breadcrumb",className:"modal-new-formtitle"},"breadcrumb "),c.a.createElement("input",{id:"new-breadcrumb",type:"text",name:"breadcrumb",className:"modal-new-forminput",value:y.breadcrumb,onChange:g,onClick:function(){return o(!0)},onBlur:function(){return o(!1)}})),c.a.createElement("div",{className:"modal-new-formrow"},c.a.createElement("label",{htmlFor:"tags",className:"modal-new-formtitle"},"tags "),c.a.createElement(j,{setInput_Focused:o,onChange:function(e){return function(e){E(Object(C.a)(Object(C.a)({},y),{},{tags:e}))}(e)},submitted:f,setSubmitted:p})),c.a.createElement("div",{className:"modal-new-formrow"},c.a.createElement("label",{htmlFor:"type",className:"modal-new-formtitle"},"type "),c.a.createElement("div",{className:"modal-new-typeradio"},c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"type",value:"article",checked:"article"===y.type,onChange:g}),c.a.createElement("i",{className:"typcn typcn-news modal-new-typeicon"})," "),c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"type",value:"video",checked:"video"===y.type,onChange:g}),c.a.createElement("i",{className:"typcn typcn-video modal-new-typeicon"})," "),c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"type",value:"book",checked:"book"===y.type,onChange:g}),c.a.createElement("i",{className:"typcn typcn-book modal-new-typeicon"})," "),c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"type",value:"podcast",checked:"podcast"===y.type,onChange:g}),c.a.createElement("i",{className:"typcn typcn-microphone modal-new-typeicon"})," "),c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"type",value:"quote",checked:"quote"===y.type,onChange:g}),c.a.createElement("i",{className:"typcn typcn-message modal-new-typeicon"})," "))),c.a.createElement("div",{className:"modal-new-formrow"},c.a.createElement("label",{htmlFor:"comments",className:"modal-new-formtitle"},"comments "),c.a.createElement(S,{setInput_Focused:o,onChange:function(e){return function(e){E(Object(C.a)(Object(C.a)({},y),{},{comment:e}))}(e)},submitted:f,setSubmitted:p})),c.a.createElement("div",{className:"modal-new-formrow"},c.a.createElement("input",{type:"submit",value:"post"}))))))};var T=function(e){var t=this;function n(e){return!!e&&(!(!e.background||!a(e.background))&&(!(!e.f_high||!a(e.f_high))&&(!(!e.f_med||!a(e.f_med))&&(!(!e.f_low||!a(e.f_low))&&(!(!e.f_inv||!a(e.f_inv))&&(!(!e.b_high||!a(e.b_high))&&(!(!e.b_med||!a(e.b_med))&&(!(!e.b_low||!a(e.b_low))&&!(!e.b_inv||!a(e.b_inv))))))))))}function a(e){return/^#([0-9A-F]{3}){1,2}$/i.test(e)}function c(e){try{return JSON.parse(e),!0}catch(t){return!1}}localStorage.theme&&console.log("Theme detected in localstorage:",localStorage.theme),this.el=document.createElement("style"),this.el.type="text/css",this.active={},this.default={background:"#29272b",f_high:"#ffffff",f_med:"#e47464",f_low:"#66606b",f_inv:"#000000",b_high:"#000000",b_med:"#201e21",b_low:"#322e33",b_inv:"#e47464"},this.onLoad=function(){},this.install=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;window.addEventListener("dragover",t.drag),window.addEventListener("drop",t.drop),e.appendChild(t.el)},this.start=function(){if(console.log("Theme","Starting.."),c(localStorage.theme)){var e=JSON.parse(localStorage.theme);if(n(e))return console.log("Theme","Loading theme in localStorage.."),void t.load(e)}t.load(t.default)},this.open=function(){console.log("Theme","Open theme..");var e=document.createElement("input");e.type="file",e.onchange=function(e){t.read(e.target.files[0],t.load)},e.click()},this.load=function(e){var a=t.parse(e);n(a)?(console.log("Theme","Loaded theme!"),t.el.innerHTML=":root { \n      --background: ".concat(a.background,"; \n      --f_high: ").concat(a.f_high,"; \n      --f_med: ").concat(a.f_med,"; \n      --f_low: ").concat(a.f_low,"; \n      --f_inv: ").concat(a.f_inv,"; \n      --b_high: ").concat(a.b_high,"; \n      --b_med: ").concat(a.b_med,"; \n      --b_low: ").concat(a.b_low,"; \n      --b_inv: ").concat(a.b_inv,";\n    }"),localStorage.setItem("theme",JSON.stringify(a)),t.active=a,t.onLoad&&t.onLoad(e)):console.warn("Theme","Invalid format")},this.reset=function(){t.load(t.default)},this.set=function(e,n){if(n){var c=("#"!=="".concat(n).substr(0,1)?"#":"")+"".concat(n);a(c)?t.active[e]=c:console.warn("Theme","".concat(c," is not a valid color."))}},this.get=function(e){return t.active[e]},this.parse=function(e){return n(e)?e:c(e)?JSON.parse(e):function(e){try{return(new DOMParser).parseFromString(e,"text/xml"),!0}catch(t){return!1}}(e)?function(e){var t=(new DOMParser).parseFromString(e,"text/xml");try{return{background:t.getElementById("background").getAttribute("fill"),f_high:t.getElementById("f_high").getAttribute("fill"),f_med:t.getElementById("f_med").getAttribute("fill"),f_low:t.getElementById("f_low").getAttribute("fill"),f_inv:t.getElementById("f_inv").getAttribute("fill"),b_high:t.getElementById("b_high").getAttribute("fill"),b_med:t.getElementById("b_med").getAttribute("fill"),b_low:t.getElementById("b_low").getAttribute("fill"),b_inv:t.getElementById("b_inv").getAttribute("fill")}}catch(n){console.warn("Theme","Incomplete SVG Theme",n)}}(e):void 0},this.drag=function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},this.drop=function(e){e.preventDefault();var n=e.dataTransfer.files[0];n.name.indexOf(".svg")>-1&&t.read(n,t.load),e.stopPropagation()},this.read=function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsText(e,"UTF-8")}},x=n(21),A=n.n(x);var F=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)([]),s=Object(i.a)(r,2),u=s[0],m=s[1],d=Object(a.useState)(""),f=Object(i.a)(d,2),p=f[0],v=f[1],b=Object(a.useState)(""),E=Object(i.a)(b,2),O=E[0],C=E[1],j=Object(a.useState)([]),S=Object(i.a)(j,2),x=S[0],F=S[1],M=Object(a.useState)(!1),B=Object(i.a)(M,2),L=B[0],D=B[1],q=Object(a.useState)(!1),P=Object(i.a)(q,2),Y=P[0],W=P[1],J=Object(a.useState)([]),G=Object(i.a)(J,2),K=G[0],R=G[1],V=Object(a.useState)([]),H=Object(i.a)(V,2),U=H[0],X=H[1];Object(a.useEffect)((function(){h.getAll().then((function(e){m(e.reverse()),setTimeout((function(){return o(!1)}),1500)})),document.getElementById("tyea").focus();var e=new T;e.install(document.body),e.start()}),[]);var Q=O?function(e){return"type"===e.slice(0,4)?u.filter((function(t){return-1!==t.type.toLowerCase().indexOf(e.slice(5).toLowerCase())})):"done"===e.slice(0,4)?"true"===e.slice(5)?u.filter((function(e){return-1!==e.status.toLowerCase().indexOf("done")})):u.filter((function(e){return-1!==e.status.toLowerCase().indexOf("todo")})):"tag"===e.slice(0,3)?"undefined"===e.slice(4)?u.filter((function(e){return!e.tags})).concat(u.filter((function(e){return e.tags})).filter((function(e){return e.tags.includes("undefined")}))):u.filter((function(e){return e.tags})).filter((function(t){return t.tags.includes(e.slice(4))})):void 0}(O):u;Object(a.useEffect)((function(){p.length>=3?R(Object(l.a)(new Set(Q.filter((function(e){return-1!==e.title.toLowerCase().indexOf(p.toLowerCase())})).concat(Q.filter((function(e){return e.comment})).filter((function(e){return-1!==e.comment.findIndex((function(e){return e.includes(p.toLowerCase())}))})))))):R(Q)}),[p,O]);var z={};Object(a.useEffect)((function(){var e,t=u.map((function(e){return e.tags}));(e=[]).concat.apply(e,Object(l.a)(t)).forEach((function(e){return z[e]=1+(z[e]||0)}));var n=[];Object.keys(z).map((function(e){return n.push([e,z[e]])})),n.sort((function(e,t){return t[1]-e[1]})),F(n),window.innerWidth<768?X(Q):window.innerWidth<1080?X(y(Q,2)):X(y(Q,3)),console.log("APP current window width is",window.innerWidth)}),[u]);var $=Object(a.useState)(!1),Z=Object(i.a)($,2),ee=Z[0],te=Z[1];return Object(a.useEffect)((function(){window.innerWidth<768?X(K):window.innerWidth<1080?X(y(K,2)):X(y(K,3))}),[K]),c.a.createElement("div",{id:"tyea",tabIndex:-1,onKeyDown:function(e){return function(e){ee||(["a","h","/","?"].includes(e.key)?Y||(D(!L),e.preventDefault()):["n","c","=","+"].includes(e.key)&&(L||(W(!Y),e.preventDefault())))}(e)}},c.a.createElement("nav",null,c.a.createElement("div",{className:"nav-query"},c.a.createElement("input",{className:"nav-querybox",type:"text",value:p,tabIndex:1,onChange:function(e){return function(e){v(e.target.value)}(e)},onClick:function(){return te(!0)},onFocus:function(){return te(!0)},onBlur:function(){return te(!1)}}),c.a.createElement("i",{className:"nav-queryicon typcn typcn-zoom-outline"}," ")),c.a.createElement(w,{filter:O,setFilter:C,posts:u}),c.a.createElement(N,{tags:x,setFilter:C}),c.a.createElement(k,{setShowModalAbout:D,showModalAbout:L,setShowModalNew:W,showModalNew:Y})),n?c.a.createElement(A.a,{type:"cylon",className:"body-loader"}):c.a.createElement("div",{id:"body"},U.map((function(e){return c.a.createElement("div",{className:"block",key:e.title},c.a.createElement(g,{props:e,setFilter:C,posts:u,setPosts:m}))}))),c.a.createElement(_,{setShowModalAbout:D,showModalAbout:L,setInput_Focused:te,posts:u}),c.a.createElement(I,{setShowModalNew:W,showModalNew:Y,posts:u,setPosts:m,setInput_Focused:te,input_focused:ee}))};n(47);r.a.render(c.a.createElement(F,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.221a9ef2.chunk.js.map